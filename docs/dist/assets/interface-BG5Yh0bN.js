import{u as r,j as e}from"./index-DvXItYxz.js";const l={title:"Interface",description:"undefined"};function n(i){const s={a:"a",aside:"aside",code:"code",div:"div",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...r(),...i.components};return e.jsxs(e.Fragment,{children:[e.jsx(s.header,{children:e.jsxs(s.h1,{id:"interface",children:["Interface",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#interface",children:e.jsx(s.div,{"data-autolink-icon":!0})})]})}),`
`,e.jsxs(s.h2,{id:"bridge",children:["bridge",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#bridge",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" bridge"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"			address"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" tokenReceiver"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"			uint256"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" tokenAmount"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"			uint24"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" dstChainSelector"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"			uint256"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" dstGasLimit"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"			bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" calldata"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" dstCallData"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"external"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" returns"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"bytes32"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" messageId"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]})]})})}),`
`,e.jsxs(s.p,{children:[`Performs a cross-chain transfer of your liquidity ERC-20 token via Concero, optionally invoking a receiver hook on the destination chain.
`,e.jsx(s.code,{children:"_lancaReceive"})," is not invoked when ",e.jsx(s.code,{children:"dstGasLimit == 0"})," and ",e.jsx(s.code,{children:"dstCallData == 0x"}),". In that case, the contract simply transfers the tokens to ",e.jsx(s.code,{children:"tokenReceiver"})," without calling ",e.jsx(s.code,{children:"lancaReceive"}),"."]}),`
`,e.jsxs(s.table,{children:[e.jsx(s.thead,{children:e.jsxs(s.tr,{children:[e.jsx(s.th,{children:"Parameter"}),e.jsx(s.th,{children:"Type (EVM)"}),e.jsx(s.th,{children:"Description"})]})}),e.jsxs(s.tbody,{children:[e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"tokenReceiver"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"address"})}),e.jsx(s.td,{children:"Address on the destination chain to receive tokens (and, if present, execute the hook)."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"tokenAmount"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"uint256"})}),e.jsx(s.td,{children:"Amount of the liquidity token to bridge."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"dstChainSelector"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"uint24"})}),e.jsx(s.td,{children:"Concero chain selector for the destination chain."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"dstGasLimit"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"uint256"})}),e.jsx(s.td,{children:"Gas limit for your hook on the destination chain."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"dstCallData"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"bytes"})}),e.jsx(s.td,{children:"ABI-encoded arguments for your hook."})]})]})]}),`
`,e.jsx(s.aside,{"data-callout":"warning",children:e.jsx(s.p,{children:"msg.value must equal the native fee returned by getBridgeNativeFee(dstChainSelector, dstGasLimit)."})}),`
`,e.jsxs(s.h2,{id:"_lancareceive",children:["_lancaReceive",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#_lancareceive",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" _lancaReceive"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"	bytes32"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" id"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"	uint24"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" srcChainSelector"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"	address"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" sender"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"	uint256"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" amount"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"	bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" memory"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" data"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"external"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]})]})})}),`
`,e.jsxs(s.table,{children:[e.jsx(s.thead,{children:e.jsxs(s.tr,{children:[e.jsx(s.th,{children:"Parameter"}),e.jsx(s.th,{children:"Type (EVM)"}),e.jsx(s.th,{children:"Description"})]})}),e.jsxs(s.tbody,{children:[e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"messageId"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"bytes32"})}),e.jsx(s.td,{children:"Unique identifier of the bridge message; use it for tracking and idempotency on the destination."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"sourceChainSelector"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"uint24"})}),e.jsxs(s.td,{children:["Concero selector of the ",e.jsx(s.strong,{children:"source"})," chain the transfer originated from."]})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"tokenSender"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"address"})}),e.jsx(s.td,{children:"Sender address on the source chain that initiated the bridge."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"tokenAmount"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"uint256"})}),e.jsxs(s.td,{children:["Amount of the liquidity token delivered ",e.jsx(s.strong,{children:"after fees"})," on the destination chain (token decimals)."]})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{children:e.jsx(s.code,{children:"dstCallData"})}),e.jsx(s.td,{children:e.jsx(s.code,{children:"bytes"})}),e.jsx(s.td,{children:"ABI-encoded payload passed through from the sender; parse/validate according to your hookâ€™s schema."})]})]})]}),`
`,e.jsx(s.p,{children:"To handle bridged tokens with a hook, your destination contract must implement ILancaClient and support ERC-165 for type(ILancaClient).interfaceId."}),`
`,e.jsx(s.p,{children:"When the message arrives:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsx(s.li,{children:"The bridge transfers tokens to tokenReceiver."}),`
`,e.jsxs(s.li,{children:["If a hook is configured, it then calls ",e.jsx(s.code,{children:"ILancaClient(tokenReceiver).lancaReceive{gas: dstGasLimit}"})]}),`
`]}),`
`,e.jsx(s.p,{children:"If lancaReceive reverts or runs out of gas, the entire delivery reverts atomically (no tokens are transferred)."}),`
`,e.jsx(s.aside,{"data-callout":"warning",children:e.jsx(s.p,{children:"inside lancaReceive, verify sender is your trusted destination pool/bridge on that chain."})}),`
`,e.jsxs(s.h2,{id:"getbridgenativefee",children:["getBridgeNativeFee",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#getbridgenativefee",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" getBridgeNativeFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"	uint24"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" dstChainSelector"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"	uint256"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" dstGasLimit"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"external"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" view"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" returns"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"uint256"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]})]})})}),`
`,e.jsxs(s.p,{children:["Returns the native currency fee you must pass in msg.value when calling ",e.jsx(s.code,{children:"bridge"}),"."]}),`
`,e.jsxs(s.table,{children:[e.jsx(s.thead,{children:e.jsxs(s.tr,{children:[e.jsx(s.th,{children:"Name"}),e.jsx(s.th,{children:"Type"}),e.jsx(s.th,{children:"Description"})]})}),e.jsxs(s.tbody,{children:[e.jsxs(s.tr,{children:[e.jsx(s.td,{children:"dstChainSelector"}),e.jsx(s.td,{children:"uint24"}),e.jsx(s.td,{children:"Selector of the destination chain."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{children:"dstGasLimit"}),e.jsx(s.td,{children:"uint256"}),e.jsx(s.td,{children:"Gas limit for the destination hook (0 if none)"})]})]})]})]})}function t(i={}){const{wrapper:s}={...r(),...i.components};return s?e.jsx(s,{...i,children:e.jsx(n,{...i})}):n(i)}export{t as default,l as frontmatter};
